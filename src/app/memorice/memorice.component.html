<div class="game-container">
  <!-- Header con estadÃ­sticas -->
  <div class="header">
    <h1 class="game-title">ğŸ”¥ MEMORICE POKÃ‰MON ğŸ”¥</h1>
    <div class="stats">
      <div class="stat-item">
        <span class="stat-icon">â­</span>
        <span class="stat-value">{{score}}</span>
        <span class="stat-label">Puntos</span>
      </div>
      <div class="stat-item">
        <span class="stat-icon">ğŸ”„</span>
        <span class="stat-value">{{moves}}</span>
        <span class="stat-label">Movimientos</span>
      </div>
      <div class="stat-item">
        <span class="stat-icon">â±ï¸</span>
        <span class="stat-value">{{formatTime(timeElapsed)}}</span>
        <span class="stat-label">Tiempo</span>
      </div>
    </div>
  </div>

  <!-- Controles -->
  <div class="controls">
    <button class="btn-control" (click)="changeDifficulty('easy')" [class.active]="difficulty === 'easy'">
      ğŸ˜Š FÃCIL (3x2)
    </button>
    <button class="btn-control" (click)="changeDifficulty('medium')" [class.active]="difficulty === 'medium'">
      ğŸ˜ MEDIO (4x3)
    </button>
    <button class="btn-control" (click)="changeDifficulty('hard')" [class.active]="difficulty === 'hard'">
      ğŸ˜¤ DIFÃCIL (5x4)
    </button>
    <button class="btn-new-game" (click)="newRandomGame()">
      ğŸ² NUEVOS POKÃ‰MON
    </button>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    <div class="pokeball">
      <div class="pokeball-button"></div>
    </div>
    <p>Capturando PokÃ©mon...</p>
  </div>

  <!-- Grid de cartas -->
  <div class="cards-grid" [class]="'grid-' + difficulty" *ngIf="!loading">
    <div *ngFor="let card of cards; let i = index" 
         class="card" 
         (click)="flipCard(i)"
         [class.matched]="matchedCards.includes(i)"
         [class.flipped]="card.flipped">
      <div class="card-inner">
        <div class="card-front">
          <div class="pokeball-mini">
            <div class="pokeball-mini-button"></div>
          </div>
        </div>
        <div class="card-back">
          <img [src]="card.image" [alt]="card.name" />
          <div class="pokemon-name">{{card.name}}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mensaje de victoria -->
  <div *ngIf="gameWon" class="victory-modal">
    <div class="victory-content">
      <div class="victory-animation">
        <span class="trophy">ğŸ†</span>
        <div class="fireworks">
          <span class="firework">âœ¨</span>
          <span class="firework">âœ¨</span>
          <span class="firework">âœ¨</span>
        </div>
      </div>
      <h2>Â¡MAESTRO POKÃ‰MON!</h2>
      <div class="final-stats">
        <p>ğŸ† Puntos: <strong>{{score}}</strong></p>
        <p>ğŸ”„ Movimientos: <strong>{{moves}}</strong></p>
        <p>â±ï¸ Tiempo: <strong>{{formatTime(timeElapsed)}}</strong></p>
        <p class="performance">{{getPerformanceMessage()}}</p>
      </div>
      <div class="victory-buttons">
        <button class="btn-play-again" (click)="resetGame()">ğŸ”„ JUGAR DE NUEVO</button>
        <button class="btn-new-pokemon" (click)="newRandomGame()">ğŸ² NUEVOS POKÃ‰MON</button>
      </div>
    </div>
  </div>
</div>
